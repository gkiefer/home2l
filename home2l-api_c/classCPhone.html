<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Home2L - C/C++ API: CPhone Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="home2l-icon-web.png"/></td>
  <td id="projectalign">
   <div id="projectname">Home2L - C/C++ API<span id="projectnumber">&#160;v1.4-2-g83f4c (2025-08-23)</span>
   </div>
   <div id="projectbrief">Smart Tools for a Private Home</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classCPhone-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CPhone Class Reference<div class="ingroups"><a class="el" href="group__common.html">Common</a> &raquo; <a class="el" href="group__common__phone.html">Phone</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>IP Telephone. </p>
<p><b>Note:</b> The instantiation of multiple instances is not fully supported in some backends. </p>

<p class="definition">Definition at line <a class="el" href="phone_8H_source.html#l00236">236</a> of file <a class="el" href="phone_8H_source.html">phone.H</a>.</p>
</div>
<p><code>#include &quot;<a class="el" href="phone_8H_source.html">phone.H</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">General ...</div></td></tr>
<tr class="memitem:abbc0c04660360f759f769046298ff550" id="r_abbc0c04660360f759f769046298ff550"><td class="memItemLeft" align="right" valign="top"><a id="abbc0c04660360f759f769046298ff550" name="abbc0c04660360f759f769046298ff550"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Iterate</b> ()</td></tr>
<tr class="memdesc:abbc0c04660360f759f769046298ff550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate the backend and update the phone state; must be called regularly. <br /></td></tr>
<tr class="separator:abbc0c04660360f759f769046298ff550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Setup ...</div></td></tr>
<tr class="memitem:aaf46d79aff646698af4bfb90fb785cfe" id="r_aaf46d79aff646698af4bfb90fb785cfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#aaf46d79aff646698af4bfb90fb785cfe">Setup</a> (const char *agentName, int _mediaSelected, int withLogging, const char *tmpDir)</td></tr>
<tr class="memdesc:aaf46d79aff646698af4bfb90fb785cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup phone object.  <br /></td></tr>
<tr class="separator:aaf46d79aff646698af4bfb90fb785cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30acd713a3e9cd39af6937dabd0ba18" id="r_ae30acd713a3e9cd39af6937dabd0ba18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#ae30acd713a3e9cd39af6937dabd0ba18">Register</a> (const char *identity=NULL, const char *secret=NULL)</td></tr>
<tr class="memdesc:ae30acd713a3e9cd39af6937dabd0ba18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register phone with a registrar.  <br /></td></tr>
<tr class="separator:ae30acd713a3e9cd39af6937dabd0ba18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Actions ...</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These are actions that can be initiated by the application. Unless a 'Get...' method is present in this section, the effect may not immediately visible, e.g. the phone state may change somewhat later and will be returned by the backend via the callback mechanisms below. By default, the functions return 'true' on success (= no immediate failure), otherwise they print a warning message and return 'false'. </p>
</div></td></tr>
<tr class="memitem:adcb16c1f3f0cc0e1ad2bd039d8c9c3c7" id="r_adcb16c1f3f0cc0e1ad2bd039d8c9c3c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#adcb16c1f3f0cc0e1ad2bd039d8c9c3c7">Dial</a> (const char *url)</td></tr>
<tr class="memdesc:adcb16c1f3f0cc0e1ad2bd039d8c9c3c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial the number or URL.  <br /></td></tr>
<tr class="separator:adcb16c1f3f0cc0e1ad2bd039d8c9c3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdff5b7d3b936c655776fe8f682ce54" id="r_a1fdff5b7d3b936c655776fe8f682ce54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a1fdff5b7d3b936c655776fe8f682ce54">AcceptCall</a> ()</td></tr>
<tr class="memdesc:a1fdff5b7d3b936c655776fe8f682ce54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Green button on the phone: Accept an incoming call.  <br /></td></tr>
<tr class="separator:a1fdff5b7d3b936c655776fe8f682ce54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6385a276ffa972d4592075da0527c356" id="r_a6385a276ffa972d4592075da0527c356"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a6385a276ffa972d4592075da0527c356">Hangup</a> ()</td></tr>
<tr class="memdesc:a6385a276ffa972d4592075da0527c356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Red button on the phone: Cancel a call or a dialing process. If there is a paused call, it will be resumed and become the active call again.  <br /></td></tr>
<tr class="separator:a6385a276ffa972d4592075da0527c356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b864ce7ed2fb9dfcdaa8f3438fb207e" id="r_a6b864ce7ed2fb9dfcdaa8f3438fb207e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a6b864ce7ed2fb9dfcdaa8f3438fb207e">CancelAllCalls</a> ()</td></tr>
<tr class="memdesc:a6b864ce7ed2fb9dfcdaa8f3438fb207e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all active calls, try to reach the idle state as soon as possible.  <br /></td></tr>
<tr class="separator:a6b864ce7ed2fb9dfcdaa8f3438fb207e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c5e1049d7fdba8a48d387c507b847e" id="r_ad5c5e1049d7fdba8a48d387c507b847e"><td class="memItemLeft" align="right" valign="top"><a id="ad5c5e1049d7fdba8a48d387c507b847e" name="ad5c5e1049d7fdba8a48d387c507b847e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>PrepareTransfer</b> ()</td></tr>
<tr class="memdesc:ad5c5e1049d7fdba8a48d387c507b847e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause (hold) the current call and set phone into the state 'psTransferIdle' to initiate an attended transfer. For an unattended transfer, call <a class="el" href="classCPhone.html#ae201f562896f0d150498ecdfd6479c7d" title="Transfer the paused call to the active one (complete the transfer). If called when still dialing,...">CompleteTransfer()</a> immediately after dialing (<a class="el" href="classCPhone.html#adcb16c1f3f0cc0e1ad2bd039d8c9c3c7" title="Dial the number or URL.">Dial()</a>). <br /></td></tr>
<tr class="separator:ad5c5e1049d7fdba8a48d387c507b847e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae201f562896f0d150498ecdfd6479c7d" id="r_ae201f562896f0d150498ecdfd6479c7d"><td class="memItemLeft" align="right" valign="top"><a id="ae201f562896f0d150498ecdfd6479c7d" name="ae201f562896f0d150498ecdfd6479c7d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>CompleteTransfer</b> ()</td></tr>
<tr class="memdesc:ae201f562896f0d150498ecdfd6479c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer the paused call to the active one (complete the transfer). If called when still dialing, the auto-pickup state is entered automatically. <br /></td></tr>
<tr class="separator:ae201f562896f0d150498ecdfd6479c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8f4270cab7600b8e0952c6a739f2de" id="r_a3a8f4270cab7600b8e0952c6a739f2de"><td class="memItemLeft" align="right" valign="top"><a id="a3a8f4270cab7600b8e0952c6a739f2de" name="a3a8f4270cab7600b8e0952c6a739f2de"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>SendDtmf</b> (const char *dtmfSequence)</td></tr>
<tr class="memdesc:a3a8f4270cab7600b8e0952c6a739f2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a sequence of DTMF characters. <br /></td></tr>
<tr class="separator:a3a8f4270cab7600b8e0952c6a739f2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Handling incoming calls ...</div></td></tr>
<tr class="memitem:a3c2d6fce01bba7d667e0193f7378ef9a" id="r_a3c2d6fce01bba7d667e0193f7378ef9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a3c2d6fce01bba7d667e0193f7378ef9a">SetIncomingCallAction</a> (<a class="el" href="group__common__phone.html#ga0d76e1d6143bcf28584b464506575daf">EPhoneState</a> _incomingAction)</td></tr>
<tr class="memdesc:a3c2d6fce01bba7d667e0193f7378ef9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set decision on what to do with an incoming call in form of a desired next state:  <br /></td></tr>
<tr class="separator:a3c2d6fce01bba7d667e0193f7378ef9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Media selection ...</div></td></tr>
<tr><td colspan="2"><div class="groupHeader">State retrieval ...</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These methods and callback functions are used to retrieve the actual state of the underlying phone. Each callback can alternatively be installed by either overloading a virtual method ( On...() ) or by passing a C function ( SetCb...() ) together with some arbitrary user data ('data'). </p>
</div></td></tr>
<tr class="memitem:a81f30084e976166814a4744e49231116" id="r_a81f30084e976166814a4744e49231116"><td class="memItemLeft" align="right" valign="top"><a id="a81f30084e976166814a4744e49231116" name="a81f30084e976166814a4744e49231116"></a>
<a class="el" href="group__common__phone.html#ga0d76e1d6143bcf28584b464506575daf">EPhoneState</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetState</b> ()</td></tr>
<tr class="memdesc:a81f30084e976166814a4744e49231116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current phone state. <br /></td></tr>
<tr class="separator:a81f30084e976166814a4744e49231116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba5d69137588479bf1095be836236d3" id="r_a3ba5d69137588479bf1095be836236d3"><td class="memItemLeft" align="right" valign="top"><a id="a3ba5d69137588479bf1095be836236d3" name="a3ba5d69137588479bf1095be836236d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetCbPhoneStateChanged</b> (void(*_cbPhoneStateChanged)(void *, <a class="el" href="group__common__phone.html#ga0d76e1d6143bcf28584b464506575daf">EPhoneState</a>), void *data=NULL)</td></tr>
<tr class="memdesc:a3ba5d69137588479bf1095be836236d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback on a phone state change; the second parameter is the previous state. <br /></td></tr>
<tr class="separator:a3ba5d69137588479bf1095be836236d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e71943918ed72ed177b4f21603c29c" id="r_a77e71943918ed72ed177b4f21603c29c"><td class="memItemLeft" align="right" valign="top"><a id="a77e71943918ed72ed177b4f21603c29c" name="a77e71943918ed72ed177b4f21603c29c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetCbInfo</b> (void(*_cbInfo)(void *, const char *), void *data=NULL)</td></tr>
<tr class="memdesc:a77e71943918ed72ed177b4f21603c29c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback on the receipt of a new info message (should be displayed on the UI). <br /></td></tr>
<tr class="separator:a77e71943918ed72ed177b4f21603c29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab601def9e4f96fa5046fd1c71dd32dcd" id="r_ab601def9e4f96fa5046fd1c71dd32dcd"><td class="memItemLeft" align="right" valign="top"><a id="ab601def9e4f96fa5046fd1c71dd32dcd" name="ab601def9e4f96fa5046fd1c71dd32dcd"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>LastInfo</b> ()</td></tr>
<tr class="memdesc:ab601def9e4f96fa5046fd1c71dd32dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve last info (may return NULL). <br /></td></tr>
<tr class="separator:ab601def9e4f96fa5046fd1c71dd32dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40cbd2cf75328cf3a7541ff51b996f8" id="r_aa40cbd2cf75328cf3a7541ff51b996f8"><td class="memItemLeft" align="right" valign="top"><a id="aa40cbd2cf75328cf3a7541ff51b996f8" name="aa40cbd2cf75328cf3a7541ff51b996f8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetCbDtmfReceived</b> (void(*_cbDtmfReceived)(void *, char), void *data=NULL)</td></tr>
<tr class="memdesc:aa40cbd2cf75328cf3a7541ff51b996f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback on the receipt of a DTMF character. <br /></td></tr>
<tr class="separator:aa40cbd2cf75328cf3a7541ff51b996f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7322d7d57c571a981fcabad708fcad06" id="r_a7322d7d57c571a981fcabad708fcad06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a7322d7d57c571a981fcabad708fcad06">GetCallDuration</a> (int callId=0)</td></tr>
<tr class="memdesc:a7322d7d57c571a981fcabad708fcad06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get call duration in seconds.  <br /></td></tr>
<tr class="separator:a7322d7d57c571a981fcabad708fcad06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7265613a40bc66be9d58c644e7c9061" id="r_ae7265613a40bc66be9d58c644e7c9061"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#ae7265613a40bc66be9d58c644e7c9061">GetPeerUrl</a> (int callId=0)</td></tr>
<tr class="memdesc:ae7265613a40bc66be9d58c644e7c9061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the URL of the peer.  <br /></td></tr>
<tr class="separator:ae7265613a40bc66be9d58c644e7c9061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Video stream retrieval ...</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The backend should provide 2 video streams, referring to 'streamId' == 0/1:</p><ul>
<li>0: Main video (to be displayed in a big frame, e.g. received video)</li>
<li>1: Small video (to be displayed in a small frame, e.g. a self-view) </li>
</ul>
</div></td></tr>
<tr class="memitem:a0a2fb8c83f82f312d3d60b69f31a886e" id="r_a0a2fb8c83f82f312d3d60b69f31a886e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTPhoneVideoFrame.html">TPhoneVideoFrame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPhone.html#a0a2fb8c83f82f312d3d60b69f31a886e">VideoLockFrame</a> (int streamId)</td></tr>
<tr class="memdesc:a0a2fb8c83f82f312d3d60b69f31a886e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the video stream and return info about the current picture.  <br /></td></tr>
<tr class="separator:a0a2fb8c83f82f312d3d60b69f31a886e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb6d9fb405200625ba72503a1f819a7" id="r_a2eb6d9fb405200625ba72503a1f819a7"><td class="memItemLeft" align="right" valign="top"><a id="a2eb6d9fb405200625ba72503a1f819a7" name="a2eb6d9fb405200625ba72503a1f819a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>VideoUnlock</b> ()</td></tr>
<tr class="memdesc:a2eb6d9fb405200625ba72503a1f819a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the video stream. <br /></td></tr>
<tr class="separator:a2eb6d9fb405200625ba72503a1f819a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">For internal use only...</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The following methods must be considered 'protected' and are called by the respective backend callbacks (Blame the author for not adding tons of "friend" clauses instead...). </p>
</div></td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aaf46d79aff646698af4bfb90fb785cfe" name="aaf46d79aff646698af4bfb90fb785cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf46d79aff646698af4bfb90fb785cfe">&#9670;&#160;</a></span>Setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPhone::Setup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>agentName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>_mediaSelected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>withLogging</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tmpDir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup phone object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agentName</td><td>is the reference to the name of the phone agent. The pointer must remain valid for the life time of the object. </td></tr>
    <tr><td class="paramname">_mediaSelected</td><td>is set of initially enabled media. </td></tr>
    <tr><td class="paramname">withLogging</td><td>enables logging, and should be set to the 'envDebug' setting. </td></tr>
    <tr><td class="paramname">tmpDir</td><td>is the root temporary directory. It should be set to some path below <a class="el" href="group__env__helpers.html#ga28aeb698820625a08bea119e551f2445" title="&#39;tmp&#39; root path: dynamic data (not need to save over reboots).">EnvHome2lTmp()</a>. To disallow the generation of temporary files (e.g. database for noise cancellation), NULL may be passed here.</td></tr>
  </table>
  </dd>
</dl>
<p>A call to this function finally causes a "state changed" event from 'psNone' to 'psIdle'. If the callback handlers are set before, this can be caught for initialization purposes.</p>
<p>A registration does not happen automatically here. To register, call <a class="el" href="classCPhone.html#ae30acd713a3e9cd39af6937dabd0ba18" title="Register phone with a registrar.">Register()</a> afterwards.</p>
<p><b>Note:</b> (2017-01-15) Persistent echo cancellation with <em>Linphone</em> requires a patched version of <em>Linphone</em> (see <code>external/linphone</code>). </p>

</div>
</div>
<a id="ae30acd713a3e9cd39af6937dabd0ba18" name="ae30acd713a3e9cd39af6937dabd0ba18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae30acd713a3e9cd39af6937dabd0ba18">&#9670;&#160;</a></span>Register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CPhone::Register </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>identity</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>secret</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register phone with a registrar. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identity</td><td>is a string containing the user name and eventually domain of the identity, for example: "Joe Miller &lt;joe@example.org&gt;". </td></tr>
    <tr><td class="paramname">secret</td><td>is the password.</td></tr>
  </table>
  </dd>
</dl>
<p>Both arguments are references and must remain valid for the lifetime of the object. If NULL is passed for the identity, the default/main account defined by 'phone.register' and 'phone.secret' is registered. </p>

</div>
</div>
<a id="adcb16c1f3f0cc0e1ad2bd039d8c9c3c7" name="adcb16c1f3f0cc0e1ad2bd039d8c9c3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcb16c1f3f0cc0e1ad2bd039d8c9c3c7">&#9670;&#160;</a></span>Dial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CPhone::Dial </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dial the number or URL. </p>
<p>If <a class="el" href="classCPhone.html#ad5c5e1049d7fdba8a48d387c507b847e" title="Pause (hold) the current call and set phone into the state &#39;psTransferIdle&#39; to initiate an attended t...">PrepareTransfer()</a> was called previously, an eventually existing call will be paused automatically and the new peer is called as a future destination.</p>
<p><b>Note:</b> The caller must make sure that the audio/video devices is not opened before calling this method, since the phone library may use it from now. </p>

</div>
</div>
<a id="a1fdff5b7d3b936c655776fe8f682ce54" name="a1fdff5b7d3b936c655776fe8f682ce54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fdff5b7d3b936c655776fe8f682ce54">&#9670;&#160;</a></span>AcceptCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CPhone::AcceptCall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Green button on the phone: Accept an incoming call. </p>
<p><b>Note:</b> The caller must make sure that the audio/video devices is not opened before calling this method, since the phone library may use it from now. </p>

</div>
</div>
<a id="a6385a276ffa972d4592075da0527c356" name="a6385a276ffa972d4592075da0527c356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6385a276ffa972d4592075da0527c356">&#9670;&#160;</a></span>Hangup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CPhone::Hangup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Red button on the phone: Cancel a call or a dialing process. If there is a paused call, it will be resumed and become the active call again. </p>
<p><b>Note:</b> The caller must not open the audio/video devices before a "device-permitting" state (e.g. 'psIdle') is reported again. </p>

</div>
</div>
<a id="a6b864ce7ed2fb9dfcdaa8f3438fb207e" name="a6b864ce7ed2fb9dfcdaa8f3438fb207e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b864ce7ed2fb9dfcdaa8f3438fb207e">&#9670;&#160;</a></span>CancelAllCalls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CPhone::CancelAllCalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel all active calls, try to reach the idle state as soon as possible. </p>
<p><b>Note:</b> The caller must not open the audio/video devices before a "device-permitting" state (e.g. 'psIdle') is reported again. </p>

</div>
</div>
<a id="a3c2d6fce01bba7d667e0193f7378ef9a" name="a3c2d6fce01bba7d667e0193f7378ef9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2d6fce01bba7d667e0193f7378ef9a">&#9670;&#160;</a></span>SetIncomingCallAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CPhone::SetIncomingCallAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__common__phone.html#ga0d76e1d6143bcf28584b464506575daf">EPhoneState</a>&#160;</td>
          <td class="paramname"><em>_incomingAction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set decision on what to do with an incoming call in form of a desired next state: </p>
<ul>
<li>'psRinging': let it ring (default mode)</li>
<li>'psInCall': automatically accept (e.g. for baby phone mode or for a door phone)</li>
<li>others: reject call</li>
</ul>
<p><b>Note:</b> The caller must make sure that the audio/video devices are not opened before calling this method with argument 'psInCall'. </p>

<p class="definition">Definition at line <a class="el" href="phone_8H_source.html#l00348">348</a> of file <a class="el" href="phone_8H_source.html">phone.H</a>.</p>

</div>
</div>
<a id="a7322d7d57c571a981fcabad708fcad06" name="a7322d7d57c571a981fcabad708fcad06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7322d7d57c571a981fcabad708fcad06">&#9670;&#160;</a></span>GetCallDuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPhone::GetCallDuration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callId</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get call duration in seconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callId</td><td>is 0 for the (last) active call, or 1 for the currently paused one. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7265613a40bc66be9d58c644e7c9061" name="ae7265613a40bc66be9d58c644e7c9061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7265613a40bc66be9d58c644e7c9061">&#9670;&#160;</a></span>GetPeerUrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * CPhone::GetPeerUrl </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callId</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the URL of the peer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callId</td><td>is 0 for the (last) active call, or 1 for the currently paused one.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Note:</b></p><ol type="1">
<li>This method is not thread-safe (only call from main thread / same thread as all other methods of all other '<a class="el" href="classCPhone.html" title="IP Telephone.">CPhone</a>' objects).</li>
<li>The returned pointer is valid until the next call of this method (for any object!). </li>
</ol>

</div>
</div>
<a id="a0a2fb8c83f82f312d3d60b69f31a886e" name="a0a2fb8c83f82f312d3d60b69f31a886e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2fb8c83f82f312d3d60b69f31a886e">&#9670;&#160;</a></span>VideoLockFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTPhoneVideoFrame.html">TPhoneVideoFrame</a> * CPhone::VideoLockFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the video stream and return info about the current picture. </p>
<p>The lock must be held as long as the return value is used and must be unlocked even if 'NULL' is returned. Also resets the internal "changed" flag automatically. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>common/<a class="el" href="phone_8H_source.html">phone.H</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
